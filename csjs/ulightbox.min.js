// Function to set text size by changing CSS variables
function setTextSize(size) {
    let root = document.documentElement;

    if (size === 'small') {
        root.style.setProperty('--tpl-font-size-extra-small', '12px');
        root.style.setProperty('--tpl-font-size-small', '13px');
        root.style.setProperty('--tpl-font-size', '14px');
        root.style.setProperty('--tpl-font-size-plus', '16px');
        root.style.setProperty('--tpl-font-size-medium', '14px');
        root.style.setProperty('--tpl-font-size-medium-plus', '14px');
        root.style.setProperty('--tpl-font-size-large', '28px');
        root.style.setProperty('--tpl-font-size-extra-large', '18px');
        root.style.setProperty('--right-search', '185px');
    } else if (size === 'normal') {
        root.style.setProperty('--tpl-font-size-extra-small', '13px');
        root.style.setProperty('--tpl-font-size-small', '14px');
        root.style.setProperty('--tpl-font-size', '15px');
        root.style.setProperty('--tpl-font-size-plus', '17px');
        root.style.setProperty('--tpl-font-size-medium', '15px');
        root.style.setProperty('--tpl-font-size-medium-plus', '15px');
        root.style.setProperty('--tpl-font-size-large', '30px');
        root.style.setProperty('--tpl-font-size-extra-large', '19px');
        root.style.setProperty('--right-search', '190px');
    } else if (size === 'large') {
        root.style.setProperty('--tpl-font-size-extra-small', '15px');
        root.style.setProperty('--tpl-font-size-small', '16px');
        root.style.setProperty('--tpl-font-size', '17px');
        root.style.setProperty('--tpl-font-size-plus', '19px');
        root.style.setProperty('--tpl-font-size-medium', '17px');
        root.style.setProperty('--tpl-font-size-medium-plus', '17px');
        root.style.setProperty('--tpl-font-size-large', '32px');
        root.style.setProperty('--tpl-font-size-extra-large', '21px');
        root.style.setProperty('--right-search', '195px');
    }

    // We save the selected text size in cookies
    document.cookie = `textSize=${size}; path=/; max-age=31536000;`; // save for 1 year
}

// Function to change text color
function setTextColor(color) {
    let root = document.documentElement;

    if (color === 'standart') {
        root.style.setProperty('--link-a', '#715AFF');
        root.style.setProperty('--link-b', '#8875FF');
        root.style.setProperty('--link-c', '#9B8BFF');
        root.style.setProperty('--link-a-hover', '#9B8BFF');
        root.style.setProperty('--link-b-hover', '#AB9EFF');
        root.style.setProperty('--link-c-hover', '#AB9EFF');
    } else if (color === 'blue') {
        root.style.setProperty('--link-a', '#0068CC');
        root.style.setProperty('--link-b', '#2482DD');
        root.style.setProperty('--link-c', '#4291DD');
        root.style.setProperty('--link-a-hover', '#4291DD');
        root.style.setProperty('--link-b-hover', '#60A5E8');
        root.style.setProperty('--link-c-hover', '#60A5E8');
    } else if (color === 'green') {
        root.style.setProperty('--link-a', '#009999');
        root.style.setProperty('--link-b', '#1FBBBB');
        root.style.setProperty('--link-c', '#37BBBB');
        root.style.setProperty('--link-a-hover', '#37BBBB');
        root.style.setProperty('--link-b-hover', '#57D1D1');
        root.style.setProperty('--link-c-hover', '#57D1D1');
    } else if (color === 'light-green') {
        root.style.setProperty('--link-a', '#1DBA6F');
        root.style.setProperty('--link-b', '#3ED18A');
        root.style.setProperty('--link-c', '#55D195');
        root.style.setProperty('--link-a-hover', '#55D195');
        root.style.setProperty('--link-b-hover', '#71E0AB');
        root.style.setProperty('--link-c-hover', '#71E0AB');
    } else if (color === 'black') {
        root.style.setProperty('--link-a', '#333');
        root.style.setProperty('--link-b', '#333');
        root.style.setProperty('--link-c', '#333');
        root.style.setProperty('--link-a-hover', '#767676');
        root.style.setProperty('--link-b-hover', '#767676');
        root.style.setProperty('--link-c-hover', '#767676');
    }

    // Save the selected text color in cookies
    document.cookie = `textColor=${color}; path=/; max-age=31536000;`; // save for 1 year
}

// Function to get cookie value
function getCookie(name) {
    let matches = document.cookie.match(new RegExp(
        "(?:^|; )" + name.replace(/([.$?*|{}()\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
    ));
    return matches ? decodeURIComponent(matches[1]) : undefined;
}

// Initialize the setting when the page loads
document.addEventListener('DOMContentLoaded', () => {
    // Apply the saved text size
    let savedSize = getCookie('textSize');
    if (savedSize) {
        setTextSize(savedSize);
        document.querySelector(`input[name="fontSize"][value="${savedSize}"]`).checked = true;
    }

    // Applying a saved text color
    let savedColor = getCookie('textColor');
    if (savedColor) {
        setTextColor(savedColor);
        document.querySelector(`input[name="color"][value="${savedColor}"]`).checked = true;
    }

    // Handling text resizing
    document.querySelectorAll('input[name="fontSize"]').forEach(input => {
        input.addEventListener('change', () => {
            setTextSize(input.value);
        });
    });

    // Handling text color change
    document.querySelectorAll('input[name="color"]').forEach(input => {
        input.addEventListener('change', () => {
            setTextColor(input.value);
        });
    });
});









